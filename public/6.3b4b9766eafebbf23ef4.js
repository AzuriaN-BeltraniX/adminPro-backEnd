(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{TL9n:function(e,t,i){"use strict";i.r(t),i.d(t,"ChildMaintenanceRoutesModule",(function(){return ae}));var o=i("tyNb"),r=i("PSD3"),a=i.n(r),n=i("fXoL"),s=i("on2l");let c=(()=>{class e{constructor(e,t){this.usuarioService=e,this.router=t}canActivate(e,t){return"ADMIN_ROLE"===this.usuarioService.role||(a.a.fire({position:"center",icon:"error",title:"Access Denied",text:"You do not have authorization to enter the requested url, talk to the administrator.",showConfirmButton:!1,timer:4e3}),this.router.navigateByUrl("/login"),localStorage.removeItem("token"),localStorage.removeItem("menu"),!1)}}return e.\u0275fac=function(t){return new(t||e)(n.Pb(s.a),n.Pb(o.c))},e.\u0275prov=n.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var b=i("D0XW"),l=i("7o/Q"),d=i("EY2u"),u=i("LRne"),h=i("HDdC");let p=(()=>{class e{constructor(e,t,i){this.kind=e,this.value=t,this.error=i,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,i){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return i&&i()}}accept(e,t,i){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,i)}toObservable(){switch(this.kind){case"N":return Object(u.a)(this.value);case"E":return e=this.error,new h.a(t=>t.error(e));case"C":return Object(d.b)()}var e;throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}static createError(t){return new e("E",void 0,t)}static createComplete(){return e.completeNotification}}return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e})();function g(e,t=b.a){var i;const o=(i=e)instanceof Date&&!isNaN(+i)?+e-t.now():Math.abs(e);return e=>e.lift(new m(o,t))}class m{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new f(e,this.delay,this.scheduler))}}class f extends l.a{constructor(e,t,i){super(e),this.delay=t,this.scheduler=i,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,i=t.queue,o=e.scheduler,r=e.destination;for(;i.length>0&&i[0].time-o.now()<=0;)i.shift().notification.observe(r);if(i.length>0){const t=Math.max(0,i[0].time-o.now());this.schedule(e,t)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(f.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,i=new v(t.now()+this.delay,e);this.queue.push(i),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(p.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification(p.createComplete()),this.unsubscribe()}}class v{constructor(e,t){this.time=e,this.notification=t}}var L=i("SKeb"),x=i("ke35"),K=i("ofXK"),w=i("3Pt+");function S(e,t){1&e&&(n.Lb(0,"div",0),n.Lb(1,"div",8),n.Lb(2,"div",9),n.Lb(3,"h4",10),n.Jb(4,"i",11),n.jc(5," Loading . . . "),n.Kb(),n.Lb(6,"p",12),n.jc(7,"Pleace, wait..."),n.Kb(),n.Kb(),n.Kb(),n.Kb())}function y(e,t){if(1&e){const e=n.Mb();n.Lb(0,"img",40),n.Sb("click",(function(){n.ec(e);const t=n.Ub().$implicit;return n.Ub(2).abrirModal(t)})),n.Kb()}if(2&e){const e=n.Ub().$implicit;n.Yb("src",e.imagenUrl,n.fc)}}function I(e,t){if(1&e){const e=n.Mb();n.Lb(0,"img",41),n.Sb("click",(function(){n.ec(e);const t=n.Ub().$implicit;return n.Ub(2).abrirModal(t)})),n.Kb()}if(2&e){const e=n.Ub().$implicit;n.Yb("src",e.imagenUrl,n.fc)}}function M(e,t){if(1&e&&(n.Lb(0,"span"),n.jc(1),n.Kb()),2&e){const e=n.Ub().$implicit;n.xb(1),n.lc(" ",e.nombre," ")}}function k(e,t){if(1&e&&(n.Lb(0,"span"),n.Jb(1,"i",42),n.Lb(2,"span",43),n.jc(3),n.Kb(),n.Kb()),2&e){const e=n.Ub().$implicit;n.xb(3),n.kc(e.nombre)}}function C(e,t){1&e&&(n.Lb(0,"span",44),n.Jb(1,"i",45),n.Kb())}function j(e,t){1&e&&(n.Lb(0,"span",46),n.jc(1," e-mail "),n.Kb())}function O(e,t){if(1&e){const e=n.Mb();n.Lb(0,"tr",27),n.Lb(1,"td",28),n.ic(2,y,1,1,"img",29),n.ic(3,I,1,1,"img",30),n.Kb(),n.Lb(4,"td",31),n.ic(5,M,2,1,"span",7),n.ic(6,k,4,1,"span",7),n.Kb(),n.Lb(7,"td",31),n.jc(8),n.Kb(),n.Lb(9,"td",28),n.Lb(10,"select",32),n.Sb("ngModelChange",(function(i){return n.ec(e),t.$implicit.role=i}))("change",(function(){n.ec(e);const i=t.$implicit;return n.Ub(2).cambiarRole(i)})),n.Lb(11,"option",33),n.jc(12," admin "),n.Kb(),n.Lb(13,"option",34),n.jc(14," user "),n.Kb(),n.Kb(),n.Kb(),n.Lb(15,"td",28),n.ic(16,C,2,0,"span",35),n.ic(17,j,2,0,"span",36),n.Kb(),n.Lb(18,"td",37),n.Lb(19,"a",38),n.Sb("click",(function(){n.ec(e);const i=t.$implicit;return n.Ub(2).eliminarUsuario(i)})),n.Jb(20,"i",39),n.Kb(),n.Kb(),n.Kb()}if(2&e){const e=t.$implicit;n.xb(2),n.Yb("ngIf","USER_ROLE"===e.role),n.xb(1),n.Yb("ngIf","ADMIN_ROLE"===e.role),n.xb(2),n.Yb("ngIf","USER_ROLE"===e.role),n.xb(1),n.Yb("ngIf","ADMIN_ROLE"===e.role),n.xb(2),n.kc(e.email),n.xb(2),n.Yb("ngModel",e.role),n.xb(6),n.Yb("ngIf",e.google),n.xb(1),n.Yb("ngIf",!e.google)}}function _(e,t){if(1&e){const e=n.Mb();n.Lb(0,"div"),n.Lb(1,"div",1),n.Lb(2,"div",13),n.Lb(3,"div",3),n.Lb(4,"h4",14),n.jc(5," Users "),n.Lb(6,"span",15),n.Lb(7,"span",16),n.jc(8,"Registered: "),n.Kb(),n.Lb(9,"span",17),n.jc(10),n.Kb(),n.Kb(),n.Kb(),n.Lb(11,"h6",18),n.jc(12,"All registered users in the app"),n.Kb(),n.Lb(13,"div",19),n.Lb(14,"table",20),n.Lb(15,"thead"),n.Lb(16,"tr"),n.Lb(17,"th",21),n.Lb(18,"span",22),n.jc(19,"Avatar"),n.Kb(),n.Kb(),n.Lb(20,"th"),n.jc(21,"Name"),n.Kb(),n.Lb(22,"th"),n.jc(23,"Email"),n.Kb(),n.Lb(24,"th"),n.jc(25,"Role"),n.Kb(),n.Lb(26,"th"),n.jc(27,"Registered"),n.Kb(),n.Lb(28,"th",23),n.jc(29,"Actions"),n.Kb(),n.Kb(),n.Kb(),n.Lb(30,"tbody"),n.ic(31,O,21,8,"tr",24),n.Kb(),n.Kb(),n.Lb(32,"button",25),n.Sb("click",(function(){return n.ec(e),n.Ub().cambiarPagina(-5)})),n.jc(33,"Previous"),n.Kb(),n.jc(34," \xa0 "),n.Lb(35,"button",26),n.Sb("click",(function(){return n.ec(e),n.Ub().cambiarPagina(5)})),n.jc(36,"Next"),n.Kb(),n.Kb(),n.Kb(),n.Kb(),n.Kb(),n.Kb()}if(2&e){const e=n.Ub();n.xb(10),n.kc(e.totalUsuarios),n.xb(21),n.Yb("ngForOf",e.usuarios)}}let U=(()=>{class e{constructor(e,t,i){this.usuarioService=e,this.busquedasService=t,this.modalImageService=i,this.totalUsuarios=0,this.usuarios=[],this.usuariosTemp=[],this.desde=0,this.loading=!0}ngOnDestroy(){this.imgSubs.unsubscribe()}ngOnInit(){this.cargarUsuarios(),this.imgSubs=this.modalImageService.nuevaImagen.pipe(g(100)).subscribe(e=>{this.cargarUsuarios()})}cargarUsuarios(){this.loading=!0,this.usuarioService.cargarUsuario(this.desde).subscribe(({total:e,usuarios:t})=>{this.totalUsuarios=e,0!==t.length&&(this.usuarios=t,this.usuariosTemp=t),this.loading=!1})}cambiarPagina(e){this.desde+=e,this.desde<0?this.desde=0:this.desde>this.totalUsuarios&&(this.desde-=e),this.cargarUsuarios()}buscar(e){if(0===e.length)return this.usuarios=this.usuariosTemp;this.busquedasService.buscar("users",e).subscribe(e=>{this.usuarios=e})}eliminarUsuario(e){if(e.userID===this.usuarioService.userID)return a.a.fire({position:"center",icon:"error",title:"You can't remove yourself from here...",showConfirmButton:!1,timer:2e3});a.a.fire({title:"Are you sure...?",text:"When you remove, you will not be able to reverse the action!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(t=>{t.isConfirmed&&this.usuarioService.eliminarUsuario(e).subscribe(t=>{this.cargarUsuarios(),a.a.fire({position:"center",icon:"success",title:"User deleted successfully!",html:`<hr><b class="text-info">"${e.nombre}"</b> has been deleted<br><br>\n                    <h6 class="grayColor">ID: ${e.userID}</h6>`,showConfirmButton:!1,timer:3e3,onBeforeOpen:()=>{a.a.getContent().querySelector("b")}})})})}cambiarRole(e){this.usuarioService.guardarUsuario(e).subscribe(e=>{})}abrirModal(e){this.modalImageService.abrirModal("users",e.userID,e.img)}}return e.\u0275fac=function(t){return new(t||e)(n.Ib(s.a),n.Ib(L.a),n.Ib(x.a))},e.\u0275cmp=n.Cb({type:e,selectors:[["app-users"]],decls:8,vars:2,consts:[[1,"row","animated","fadeIn"],[1,"col-12"],[1,"card",2,"background-color","#242a33","border-radius","3px"],[1,"card-body"],["type","text","placeholder","Search Users...",1,"form-control","focusNone",2,"background-color","#3c4553","color","whitesmoke",3,"keyup"],["txtTermino",""],["class","row  animated fadeIn",4,"ngIf"],[4,"ngIf"],[1,"col",2,"display","inline","align-items","center"],[1,"alert","alert-info","border-blue","text-center"],[1,"alert-heading"],[1,"fa","fa-refresh","fa-spin",2,"opacity","50%","margin-right","5px"],[1,"mb-0",2,"opacity","50%"],[1,"card"],[1,"card-title"],[1,"label","label-rouded","label-themecolor","pull-right","p-2","m-1"],[2,"opacity","50%","padding-right","8px"],[2,"font-weight","600"],[1,"card-subtitle"],[1,"table-responsive"],[1,"table","table-bordered","color-bordered-table","muted-bordered-table"],[1,"w-100per"],[2,"color","rgb(221, 221, 221)"],[1,"text-nowrap"],["class","animated fadeIn",4,"ngFor","ngForOf"],[1,"btn","btn-outline-danger",3,"click"],[1,"btn","btn-outline-info",3,"click"],[1,"animated","fadeIn"],[1,"txt-center","text-center"],["class","avatar cursor marginShadow",3,"src","click",4,"ngIf"],["class","avatar cursor adminBorder adminShadow",3,"src","click",4,"ngIf"],[1,"txt-center"],[1,"form-control",3,"ngModel","ngModelChange","change"],["value","ADMIN_ROLE"],["value","USER_ROLE"],["class","label label-danger",4,"ngIf"],["class","label label-info font-w600",4,"ngIf"],[1,"text-nowrap","txt-center","text-center"],["data-toggle","tooltip","data-original-title","Delete",1,"cursor",3,"click"],[1,"fa","fa-close","text-danger"],[1,"avatar","cursor","marginShadow",3,"src","click"],[1,"avatar","cursor","adminBorder","adminShadow",3,"src","click"],[1,"fa","fa-star","p-1","text-warning",2,"padding-right","3px","opacity","75%"],[2,"padding-left","5px","font-size","15px"],[1,"label","label-danger"],[1,"fa","fa-google","p-1"],[1,"label","label-info","font-w600"]],template:function(e,t){if(1&e){const e=n.Mb();n.Lb(0,"div",0),n.Lb(1,"div",1),n.Lb(2,"div",2),n.Lb(3,"div",3),n.Lb(4,"input",4,5),n.Sb("keyup",(function(){n.ec(e);const i=n.dc(5);return t.buscar(i.value)})),n.Kb(),n.Kb(),n.Kb(),n.Kb(),n.Kb(),n.ic(6,S,8,0,"div",6),n.ic(7,_,37,2,"div",7)}2&e&&(n.xb(6),n.Yb("ngIf",t.loading),n.xb(1),n.Yb("ngIf",!t.loading))},directives:[K.j,K.i,w.n,w.g,w.j,w.k,w.p],styles:[".greyColor[_ngcontent-%COMP%]{color:rgba(153,171,180,.67);font-weight:300}.font-w600[_ngcontent-%COMP%]{font-weight:600}.marginShadow[_ngcontent-%COMP%]{box-shadow:0 0 0 0 rgba(0,0,0,.15);position:relative;bottom:0;transition:.2s ease-out}.marginShadow[_ngcontent-%COMP%]:hover{box-shadow:0 0 20px 4px rgba(0,0,0,.15);position:relative;bottom:2px;transition:.2s ease}.adminBorder[_ngcontent-%COMP%]{border:4px solid #ffb22b;box-shadow:0 0 0 0 rgba(255,177,43,.31);position:relative;bottom:0;transition:.2s ease-out}.adminShadow[_ngcontent-%COMP%]:hover{box-shadow:0 0 20px 4px rgba(255,177,43,.31);position:relative;bottom:2px;transition:.2s ease}.focusNone[_ngcontent-%COMP%]:focus{border:none!important}"]}),e})();var N=i("mrSG"),P=i("lJxs"),$=i("cxbk"),H=i("tk/3");const D=$.a.base_url;let Y=(()=>{class e{constructor(e){this.http=e}get token(){return localStorage.getItem("token")||""}get headers(){return{headers:{"x-token":this.token}}}cargarHospitales(){return this.http.get(D+"/hospitals",this.headers).pipe(Object(P.a)(e=>e.hospitales))}crearHospital(e){return this.http.post(D+"/hospitals",{nombre:e},this.headers)}acualizarHospital(e,t){return this.http.put(`${D}/hospitals/${e}`,{nombre:t},this.headers)}borrarHospital(e){return this.http.delete(`${D}/hospitals/${e}`,this.headers)}}return e.\u0275fac=function(t){return new(t||e)(n.Pb(H.a))},e.\u0275prov=n.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var B=i("bruO");function J(e,t){1&e&&(n.Lb(0,"div",0),n.Lb(1,"div",8),n.Lb(2,"div",9),n.Lb(3,"h4",10),n.Jb(4,"i",11),n.jc(5," Loading . . . "),n.Kb(),n.Lb(6,"p",12),n.jc(7,"Pleace, wait..."),n.Kb(),n.Kb(),n.Kb(),n.Kb())}function E(e,t){if(1&e&&(n.Lb(0,"span",40),n.Jb(1,"i",41),n.Lb(2,"span",42),n.jc(3),n.Kb(),n.Kb()),2&e){const e=n.Ub().$implicit;n.xb(3),n.kc(e.usuario.nombre)}}function F(e,t){if(1&e&&(n.Lb(0,"span",43),n.Jb(1,"i",44),n.Lb(2,"span",45),n.jc(3),n.Kb(),n.Kb()),2&e){const e=n.Ub().$implicit;n.xb(3),n.kc(e.usuario.nombre)}}function R(e,t){if(1&e){const e=n.Mb();n.Lb(0,"tr"),n.Lb(1,"td",29),n.Lb(2,"img",30),n.Sb("click",(function(){n.ec(e);const i=t.$implicit;return n.Ub(2).abrirModal(i)})),n.Vb(3,"image"),n.Kb(),n.Kb(),n.Lb(4,"td",31),n.Lb(5,"input",32),n.Sb("ngModelChange",(function(i){return n.ec(e),t.$implicit.nombre=i})),n.Kb(),n.Kb(),n.Lb(6,"td",29),n.ic(7,E,4,1,"span",33),n.ic(8,F,4,1,"span",34),n.Kb(),n.Lb(9,"td",35),n.Lb(10,"a",36),n.Sb("click",(function(){n.ec(e);const i=t.$implicit;return n.Ub(2).guardarCambios(i)})),n.Jb(11,"i",37),n.Kb(),n.Lb(12,"a",38),n.Sb("click",(function(){n.ec(e);const i=t.$implicit;return n.Ub(2).eliminarHospital(i)})),n.Jb(13,"i",39),n.Kb(),n.Kb(),n.Kb()}if(2&e){const e=t.$implicit;n.xb(2),n.Yb("src",n.Wb(3,5,e.img,"hospitals"),n.fc)("alt",e.nombre),n.xb(3),n.Yb("ngModel",e.nombre),n.xb(2),n.Yb("ngIf","USER_ROLE"===e.usuario.role),n.xb(1),n.Yb("ngIf","ADMIN_ROLE"===e.usuario.role)}}function A(e,t){if(1&e){const e=n.Mb();n.Lb(0,"div",13),n.Lb(1,"div",14),n.Lb(2,"div",3),n.Lb(3,"h4",15),n.jc(4," Hospitals "),n.Lb(5,"span",16),n.Lb(6,"span",17),n.jc(7,"Registered: "),n.Kb(),n.Lb(8,"span",18),n.jc(9),n.Kb(),n.Kb(),n.Lb(10,"button",19),n.Sb("click",(function(){return n.ec(e),n.Ub().arbirSweetAlert()})),n.Jb(11,"i",20),n.Lb(12,"span",21),n.jc(13,"New hospital"),n.Kb(),n.Kb(),n.Kb(),n.Lb(14,"h6",22),n.jc(15,"All registered hospitals in the app"),n.Kb(),n.Lb(16,"div",23),n.Lb(17,"table",24),n.Lb(18,"thead"),n.Lb(19,"tr"),n.Lb(20,"th",25),n.Lb(21,"span",26),n.jc(22,"Image"),n.Kb(),n.Kb(),n.Lb(23,"th"),n.jc(24,"Name"),n.Kb(),n.Lb(25,"th"),n.jc(26,"Registered by"),n.Kb(),n.Lb(27,"th",27),n.jc(28,"Actions"),n.Kb(),n.Kb(),n.Kb(),n.Lb(29,"tbody"),n.ic(30,R,14,8,"tr",28),n.Kb(),n.Kb(),n.Kb(),n.Kb(),n.Kb(),n.Kb()}if(2&e){const e=n.Ub();n.xb(9),n.kc(e.hospitals.length),n.xb(21),n.Yb("ngForOf",e.hospitals)}}let q=(()=>{class e{constructor(e,t,i){this.hospitalService=e,this.modalImageService=t,this.busquedasService=i,this.hospitals=[],this.loading=!0}ngOnDestroy(){this.imgSubs.unsubscribe()}ngOnInit(){this.cargarHospitales(),this.imgSubs=this.imgSubs=this.modalImageService.nuevaImagen.pipe(g(100)).subscribe(e=>{this.cargarHospitales()})}cargarHospitales(){this.loading=!0,this.hospitalService.cargarHospitales().subscribe(e=>{this.loading=!1,this.hospitals=e})}guardarCambios(e){this.hospitalService.acualizarHospital(e._id,e.nombre).subscribe(t=>{this.cargarHospitales(),a.a.fire({position:"center",icon:"success",title:"Hospital Updated",html:`<hr> <span style="opacity: 40%;">New name:</span>\n                  <span style="opacity: 70%;">\n                    <b class="text-success">${e.nombre}</b>\n                  </span>\n                  <br> <br>\n                  <span style="opacity: 40%; font-size: 14px;">id: ${e._id}</span>`,showConfirmButton:!1,timer:2200})})}eliminarHospital(e){console.log(e._id),a.a.fire({title:"Are you sure...?",text:"When you remove, you will not be able to reverse the action!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(t=>{t.isConfirmed&&(this.hospitalService.borrarHospital(e._id).subscribe(t=>{console.log(t),a.a.fire({position:"center",icon:"success",title:"User deleted successfully!",html:`<hr><b class="text-info">"${e.nombre}"</b> has been deleted<br><br>\n                    <h6 class="grayColor">ID: ${e._id}</h6>`,showConfirmButton:!1,timer:3e3,onBeforeOpen:()=>{a.a.getContent().querySelector("b")}})}),this.cargarHospitales(),console.log(e))})}arbirSweetAlert(){return Object(N.a)(this,void 0,void 0,(function*(){const{value:e=""}=yield a.a.fire({title:"Create a new Hospital",text:"Please enter a name",input:"text",inputPlaceholder:"Name of the new hospital",showCancelButton:!0,cancelButtonColor:"#d33"});e.trim().length>0&&this.hospitalService.crearHospital(e).subscribe(t=>{a.a.fire({position:"center",icon:"success",title:"Hospital created successfully",html:`<hr> <span style="opacity: 40%;">Name:</span>\n                    <span style="opacity: 70%;">\n                      <b class="text-success">${e}</b>\n                    </span>`,showConfirmButton:!1,timer:2200}),this.cargarHospitales()})}))}abrirModal(e){this.modalImageService.abrirModal("hospitals",e._id,e.img)}buscar(e){if(0===e.length)return this.cargarHospitales();this.busquedasService.buscar("hospitals",e).subscribe(e=>{this.hospitals=e})}}return e.\u0275fac=function(t){return new(t||e)(n.Ib(Y),n.Ib(x.a),n.Ib(L.a))},e.\u0275cmp=n.Cb({type:e,selectors:[["app-hospitals"]],decls:8,vars:2,consts:[[1,"row","animated","fadeIn"],[1,"col-12"],[1,"card",2,"background-color","#242a33","border-radius","3px"],[1,"card-body"],["type","text","placeholder","Search Hospitals...",1,"form-control","focusNone",2,"background-color","#3c4553","color","whitesmoke",3,"keyup"],["txtTermino",""],["class","row  animated fadeIn",4,"ngIf"],["class","col-12 animated fadeIn",4,"ngIf"],[1,"col",2,"display","inline","align-items","center"],[1,"alert","alert-info","border-blue","text-center"],[1,"alert-heading"],[1,"fa","fa-refresh","fa-spin",2,"opacity","50%","margin-right","5px"],[1,"mb-0",2,"opacity","50%"],[1,"col-12","animated","fadeIn"],[1,"card"],[1,"card-title"],[1,"label","label-rouded","label-themecolor","pull-right","p-2","m-1"],[2,"opacity","50%","padding-right","8px"],[2,"font-weight","600"],[1,"btn","btn-success","pull-right",2,"padding","3px 10px !important","margin-top","4px","margin-right","10px",3,"click"],[1,"fa","fa-plus",2,"padding-right","5px","margin-top","3px","opacity","50%"],[2,"font-size","15px"],[1,"card-subtitle"],[1,"table-responsive"],[1,"table","table-bordered","color-bordered-table","muted-bordered-table"],[1,"w-100per"],[2,"color","rgb(221, 221, 221)"],[1,"text-nowrap"],[4,"ngFor","ngForOf"],[1,"txt-center","text-center"],[1,"avatar","cursor","marginShadow",3,"src","alt","click"],[1,"txt-center"],["type","text","placeholder","Hospital Name",1,"form-control",3,"ngModel","ngModelChange"],["class","label label-rouded label-light-info",4,"ngIf"],["class","label label-rouded label-light-warning",4,"ngIf"],[1,"text-nowrap","txt-center","text-center"],["data-toggle","tooltip","data-original-title","Save",1,"cursor",3,"click"],[1,"fa","fa-save","text-success","p-r-20"],["data-toggle","tooltip","data-original-title","Delete",1,"cursor",3,"click"],[1,"fa","fa-close","text-danger"],[1,"label","label-rouded","label-light-info"],[1,"fa","fa-user","p-1","text-dark",2,"padding-right","3px","opacity","50%"],[1,"text-dark",2,"padding-left","5px","font-size","13px"],[1,"label","label-rouded","label-light-warning"],[1,"fa","fa-star","p-1",2,"padding-right","3px","opacity","75%"],[2,"padding-left","5px","font-size","13px"]],template:function(e,t){if(1&e){const e=n.Mb();n.Lb(0,"div",0),n.Lb(1,"div",1),n.Lb(2,"div",2),n.Lb(3,"div",3),n.Lb(4,"input",4,5),n.Sb("keyup",(function(){n.ec(e);const i=n.dc(5);return t.buscar(i.value)})),n.Kb(),n.Kb(),n.Kb(),n.Kb(),n.Kb(),n.ic(6,J,8,0,"div",6),n.ic(7,A,31,2,"div",7)}2&e&&(n.xb(6),n.Yb("ngIf",t.loading),n.xb(1),n.Yb("ngIf",!t.loading))},directives:[K.j,K.i,w.b,w.g,w.j],pipes:[B.a],styles:[".marginShadow[_ngcontent-%COMP%]{box-shadow:0 0 0 0 rgba(0,0,0,.15);position:relative;bottom:0;transition:.2s ease-out}.marginShadow[_ngcontent-%COMP%]:hover{box-shadow:0 0 20px 4px rgba(0,0,0,.15);position:relative;bottom:2px;transition:.2s ease}"]}),e})();const z=$.a.base_url;let T=(()=>{class e{constructor(e){this.http=e}get token(){return localStorage.getItem("token")||""}get headers(){return{headers:{"x-token":this.token}}}cargarMedicos(){return this.http.get(z+"/doctors",this.headers).pipe(Object(P.a)(e=>e.medicos))}obtenerMedicoPorId(e){return this.http.get(`${z}/doctor/${e}`,this.headers).pipe(Object(P.a)(e=>e.medico))}crearMedico(e){return this.http.post(z+"/doctors",e,this.headers)}acualizarMedico(e){return this.http.put(`${z}/doctors/${e._id}`,e,this.headers)}borrarMedico(e){return this.http.delete(`${z}/doctors/${e}`,this.headers)}}return e.\u0275fac=function(t){return new(t||e)(n.Pb(H.a))},e.\u0275prov=n.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function W(e,t){1&e&&(n.Lb(0,"div",8),n.Lb(1,"div",9),n.Lb(2,"div",10),n.Lb(3,"h4",11),n.Jb(4,"i",12),n.jc(5," Loading . . . "),n.Kb(),n.Lb(6,"p",13),n.jc(7,"Pleace, wait..."),n.Kb(),n.Kb(),n.Kb(),n.Kb())}const V=function(e){return["/maintenance/doctor",e]};function G(e,t){if(1&e){const e=n.Mb();n.Lb(0,"tbody"),n.Lb(1,"tr"),n.Lb(2,"td",29),n.Lb(3,"img",30),n.Sb("click",(function(){n.ec(e);const i=t.$implicit;return n.Ub(2).abrirModal(i)})),n.Vb(4,"image"),n.Kb(),n.Kb(),n.Lb(5,"td",31),n.jc(6),n.Kb(),n.Lb(7,"td",32),n.Lb(8,"span",33),n.Jb(9,"i",34),n.Lb(10,"span",19),n.jc(11),n.Kb(),n.Kb(),n.Kb(),n.Lb(12,"td",35),n.Lb(13,"a",36),n.Jb(14,"i",37),n.Kb(),n.Lb(15,"a",38),n.Sb("click",(function(){n.ec(e);const i=t.$implicit;return n.Ub(2).borrarMedico(i)})),n.Jb(16,"i",39),n.Kb(),n.Kb(),n.Kb(),n.Kb()}if(2&e){const e=t.$implicit;n.xb(3),n.Yb("src",n.Wb(4,5,e.img,"doctors"),n.fc)("alt",e.nombre),n.xb(3),n.kc(e.nombre),n.xb(5),n.kc(e.hospital.nombre),n.xb(2),n.Yb("routerLink",n.bc(8,V,e._id))}}function X(e,t){if(1&e&&(n.Lb(0,"div",14),n.Lb(1,"div",15),n.Lb(2,"div",3),n.Lb(3,"h4",16),n.jc(4," Doctors "),n.Lb(5,"span",17),n.Lb(6,"span",18),n.jc(7,"Registered: "),n.Kb(),n.Lb(8,"span",19),n.jc(9),n.Kb(),n.Kb(),n.Lb(10,"button",20),n.Jb(11,"i",21),n.Lb(12,"span",22),n.jc(13,"New Doctor"),n.Kb(),n.Kb(),n.Kb(),n.Lb(14,"h6",23),n.jc(15,"All registered doctors in the app"),n.Kb(),n.Lb(16,"div",24),n.Lb(17,"table",25),n.Lb(18,"thead"),n.Lb(19,"tr"),n.Lb(20,"th"),n.Lb(21,"span",26),n.jc(22,"Avatar"),n.Kb(),n.Kb(),n.Lb(23,"th"),n.jc(24,"Name"),n.Kb(),n.Lb(25,"th"),n.jc(26,"Hospital"),n.Kb(),n.Lb(27,"th",27),n.jc(28,"Actions"),n.Kb(),n.Kb(),n.Kb(),n.ic(29,G,17,10,"tbody",28),n.Kb(),n.Kb(),n.Kb(),n.Kb(),n.Kb()),2&e){const e=n.Ub();n.xb(9),n.kc(e.medicos.length),n.xb(20),n.Yb("ngForOf",e.medicos)}}function Q(e,t){if(1&e){const e=n.Mb();n.Lb(0,"div",3),n.Lb(1,"div",4),n.Lb(2,"h3",5),n.jc(3,"Doctor Card"),n.Kb(),n.Jb(4,"hr",6),n.Kb(),n.Lb(5,"div",7),n.Jb(6,"img",8),n.Lb(7,"div",9),n.Lb(8,"div",10),n.Lb(9,"div",11),n.Sb("click",(function(){return n.ec(e),n.Ub().abrirModal()})),n.Kb(),n.Jb(10,"br"),n.Jb(11,"br"),n.Jb(12,"h4",12),n.Jb(13,"hr",13),n.Jb(14,"br"),n.Lb(15,"div",14),n.Lb(16,"span",15),n.Jb(17,"i",16),n.Jb(18,"span",17),n.Kb(),n.Kb(),n.Kb(),n.Kb(),n.Kb(),n.Kb()}}function Z(e,t){if(1&e&&(n.Lb(0,"option",37),n.jc(1),n.Kb()),2&e){const e=t.$implicit;n.Yb("value",e._id),n.xb(1),n.kc(e.nombre)}}function ee(e,t){if(1&e){const e=n.Mb();n.Lb(0,"div",18),n.Lb(1,"div",4),n.Lb(2,"h3",5),n.jc(3,"Information"),n.Kb(),n.Jb(4,"hr",19),n.Kb(),n.Lb(5,"div",7),n.Lb(6,"div",20),n.Lb(7,"h4",21),n.jc(8,"Edit or register a Doctor"),n.Kb(),n.Lb(9,"form",22),n.Lb(10,"div",23),n.Lb(11,"label",24),n.jc(12,"Name"),n.Kb(),n.Lb(13,"div",25),n.Lb(14,"div",26),n.Jb(15,"i",27),n.Kb(),n.Jb(16,"input",28),n.Kb(),n.Kb(),n.Lb(17,"div",23),n.Lb(18,"label",29),n.jc(19,"Hospital"),n.Kb(),n.Lb(20,"div",25),n.Lb(21,"div",26),n.Jb(22,"i",30),n.Kb(),n.Lb(23,"select",31),n.Lb(24,"option",32),n.jc(25,"Select a hospital"),n.Kb(),n.ic(26,Z,2,2,"option",33),n.Kb(),n.Kb(),n.Kb(),n.Lb(27,"button",34),n.Sb("click",(function(){return n.ec(e),n.Ub().actualizarMedico()})),n.Jb(28,"i",35),n.jc(29," Update "),n.Kb(),n.Lb(30,"button",36),n.jc(31,"Cancel"),n.Kb(),n.Kb(),n.Kb(),n.Kb(),n.Kb()}if(2&e){const e=n.Ub();n.xb(9),n.Yb("formGroup",e.medicoForm),n.xb(17),n.Yb("ngForOf",e.hospitales),n.xb(1),n.Yb("disabled",e.medicoForm.invalid)}}function te(e,t){if(1&e&&(n.Lb(0,"option",37),n.jc(1),n.Kb()),2&e){const e=t.$implicit;n.Yb("value",e._id),n.xb(1),n.kc(e.nombre)}}function ie(e,t){if(1&e){const e=n.Mb();n.Lb(0,"div",18),n.Lb(1,"div",4),n.Lb(2,"h3",5),n.jc(3,"New Doctor"),n.Kb(),n.Jb(4,"hr",19),n.Kb(),n.Lb(5,"div",7),n.Lb(6,"div",20),n.Lb(7,"h4",21),n.jc(8,"Register a Doctor"),n.Kb(),n.Lb(9,"h6",38),n.jc(10,"Type the new name of the doctor and the assigned hospital"),n.Kb(),n.Lb(11,"form",22),n.Lb(12,"div",23),n.Lb(13,"label",24),n.jc(14,"Name"),n.Kb(),n.Lb(15,"div",25),n.Lb(16,"div",26),n.Jb(17,"i",27),n.Kb(),n.Jb(18,"input",28),n.Kb(),n.Kb(),n.Lb(19,"div",23),n.Lb(20,"label",29),n.jc(21,"Hospital"),n.Kb(),n.Lb(22,"div",25),n.Lb(23,"div",26),n.Jb(24,"i",30),n.Kb(),n.Lb(25,"select",31),n.Lb(26,"option",32),n.jc(27,"Select a hospital"),n.Kb(),n.ic(28,te,2,2,"option",33),n.Kb(),n.Kb(),n.Kb(),n.Lb(29,"button",39),n.Sb("click",(function(){return n.ec(e),n.Ub().guardarMedico()})),n.Jb(30,"i",40),n.jc(31," Save "),n.Kb(),n.Lb(32,"button",36),n.jc(33,"Cancel"),n.Kb(),n.Kb(),n.Kb(),n.Kb(),n.Kb()}if(2&e){const e=n.Ub();n.xb(11),n.Yb("formGroup",e.medicoForm),n.xb(17),n.Yb("ngForOf",e.hospitales),n.xb(1),n.Yb("disabled",e.medicoForm.invalid)}}const oe=$.a.base_url,re=[{path:"users",canActivate:[c],component:U,data:{titulo:"Users Maintenance"}},{path:"hospitals",component:q,data:{titulo:"Hospitals Maintenance"}},{path:"doctors",component:(()=>{class e{constructor(e,t,i){this.medicoService=e,this.modalImageService=t,this.busquedasService=i,this.loading=!0,this.medicos=[]}ngOnDestroy(){this.imgSubs.unsubscribe()}ngOnInit(){this.cargarMedicos(),this.imgSubs=this.imgSubs=this.modalImageService.nuevaImagen.pipe(g(100)).subscribe(e=>{this.cargarMedicos()})}cargarMedicos(){this.loading=!0,this.medicoService.cargarMedicos().subscribe(e=>{this.loading=!1,this.medicos=e,console.log(e)})}borrarMedico(e){a.a.fire({title:"Are you sure...?",text:"When you remove, you will not be able to reverse the action!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(t=>{t.isConfirmed&&this.medicoService.borrarMedico(e._id).subscribe(t=>{this.cargarMedicos(),a.a.fire({position:"center",icon:"success",title:"Doctor deleted successfully!",html:`<hr><b class="text-info">"${e.nombre}"</b> has been deleted<br><br>\n                    <h6 class="grayColor">ID: ${e._id}</h6>`,showConfirmButton:!1,timer:3e3,onBeforeOpen:()=>{a.a.getContent().querySelector("b")}})})})}abrirModal(e){console.log(e),this.modalImageService.abrirModal("doctors",e._id,e.img)}buscar(e){if(0===e.length)return this.cargarMedicos();this.busquedasService.buscar("doctors",e).subscribe(e=>{this.medicos=e})}}return e.\u0275fac=function(t){return new(t||e)(n.Ib(T),n.Ib(x.a),n.Ib(L.a))},e.\u0275cmp=n.Cb({type:e,selectors:[["app-doctors"]],decls:8,vars:2,consts:[[1,"row"],[1,"col-12"],[1,"card",2,"background-color","#242a33","border-radius","3px"],[1,"card-body"],["type","text","placeholder","Search Doctors...",1,"form-control",2,"background-color","#3c4553","color","whitesmoke",3,"keyup"],["txtTermino",""],["class","row  animated fadeIn",4,"ngIf"],["class","col-12 animated fadeIn",4,"ngIf"],[1,"row","animated","fadeIn"],[1,"col",2,"display","inline","align-items","center"],[1,"alert","alert-info","border-blue","text-center"],[1,"alert-heading"],[1,"fa","fa-refresh","fa-spin",2,"opacity","50%","margin-right","5px"],[1,"mb-0",2,"opacity","50%"],[1,"col-12","animated","fadeIn"],[1,"card"],[1,"card-title"],[1,"label","label-rouded","label-themecolor","pull-right","p-2","m-1"],[2,"opacity","50%","padding-right","8px"],[2,"font-weight","600"],["routerLink","/maintenance/doctor/new",1,"btn","btn-success","pull-right",2,"padding","3px 10px !important","margin-top","4px","margin-right","10px"],[1,"fa","fa-plus",2,"padding-right","5px","margin-top","3px","opacity","50%"],[2,"font-size","15px"],[1,"card-subtitle"],[1,"table-responsive"],[1,"table","table-bordered","color-bordered-table","muted-bordered-table"],[2,"color","rgb(221, 221, 221)"],[1,"text-nowrap"],[4,"ngFor","ngForOf"],[1,"txt-center","text-center",2,"width","100px"],[1,"avatar","cursor","marginShadow",3,"src","alt","click"],[1,"txt-center"],[1,"txt-center","text-center",2,"width","250px"],[1,"label","label-rouded","label-light-success","p-2","m-1"],[1,"fa","fa-plus-circle","text-danger",2,"padding-right","5px","margin-top","3px","opacity","60%"],[1,"text-nowrap","text-center","txt-center",2,"width","100px"],["data-toggle","tooltip","data-original-title","Edit",3,"routerLink"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["data-toggle","tooltip","data-original-title","Delete",1,"cursor",3,"click"],[1,"fa","fa-close","text-danger"]],template:function(e,t){if(1&e){const e=n.Mb();n.Lb(0,"div",0),n.Lb(1,"div",1),n.Lb(2,"div",2),n.Lb(3,"div",3),n.Lb(4,"input",4,5),n.Sb("keyup",(function(){n.ec(e);const i=n.dc(5);return t.buscar(i.value)})),n.Kb(),n.Kb(),n.Kb(),n.Kb(),n.Kb(),n.ic(6,W,8,0,"div",6),n.ic(7,X,30,2,"div",7)}2&e&&(n.xb(6),n.Yb("ngIf",t.loading),n.xb(1),n.Yb("ngIf",!t.loading))},directives:[K.j,o.d,K.i,o.f],pipes:[B.a],styles:[".marginShadow[_ngcontent-%COMP%]{box-shadow:0 0 0 0 rgba(0,0,0,.15);position:relative;bottom:0;transition:.2s ease-out}.marginShadow[_ngcontent-%COMP%]:hover{box-shadow:0 0 20px 4px rgba(0,0,0,.15);position:relative;bottom:2px;transition:.2s ease}.tagHospital[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,.18);border-radius:200px}.drName[_ngcontent-%COMP%], .hospitalName[_ngcontent-%COMP%]{font-weight:500;font-size:13px;color:#fff;opacity:1%}.decoLine[_ngcontent-%COMP%]{width:140px}.decoLine[_ngcontent-%COMP%], .decoLine2[_ngcontent-%COMP%]{margin-left:15px;border-bottom:1px solid #455a64}.decoLine2[_ngcontent-%COMP%]{width:455px}"]}),e})(),data:{titulo:"Doctors Maintenance"}},{path:"doctor/:id",component:(()=>{class e{constructor(e,t,i,o,r,a){this.formBuilder=e,this.hospitalService=t,this.medicoService=i,this.router=o,this.activatedRoute=r,this.modalImageService=a,this.hospitales=[],this.medicos=[]}ngOnInit(){this.activatedRoute.params.subscribe(({id:e})=>{this.cargarMedico(e),this.imgSubs=this.imgSubs=this.modalImageService.nuevaImagen.pipe(g(10)).subscribe(t=>{this.cargarMedico(e)})}),this.medicoForm=this.formBuilder.group({nombre:["",w.o.required],hospital:["",w.o.required]}),this.cargarHospitales()}cargarHospitales(){this.hospitalService.cargarHospitales().subscribe(e=>{this.hospitales=e})}cargarMedico(e){"new"!==e&&this.medicoService.obtenerMedicoPorId(e).subscribe(e=>{e||this.router.navigateByUrl("/maintenance/doctors");const{nombre:t,hospital:{_id:i}}=e;this.medicoSeleccionado=e,this.medicoForm.setValue({nombre:t,hospital:i}),document.getElementById("imgProfile").innerHTML=`\n        <img class="img-circle cursor marginShadowWhite"\n             width="100" src="${oe}/upload/doctors/${e.img||"noImage"}">\n        `,document.getElementById("nameProfile").innerHTML='<span style="color: white; opacity: 50%;">Dr. </span>'+(e.nombre||"Doctor Name"),document.getElementById("nameHospital").innerHTML=e.hospital.nombre||"Hospital Name"})}guardarMedico(){const{nombre:e}=this.medicoForm.value,{hospital:t}=this.medicoForm.value;this.medicoService.crearMedico(this.medicoForm.value).subscribe(i=>{a.a.fire({position:"center",icon:"success",title:"Doctor created successfully!",html:`<hr>Doctor name: <b class="text-info">"${e}"</b> \n                <br><br>\n                <h6 class="grayColor">Hospital ID: ${t}</h6>`,showConfirmButton:!1,timer:3e3}),this.router.navigateByUrl("/maintenance/doctor/"+i.medico._id)})}actualizarMedico(){const{nombre:e}=this.medicoForm.value,{hospital:t}=this.medicoForm.value,i=this.medicoSeleccionado._id,o=Object.assign(Object.assign({},this.medicoForm.value),{_id:this.medicoSeleccionado._id});this.medicoService.acualizarMedico(o).subscribe(o=>{a.a.fire({position:"center",icon:"success",title:"Doctor updated successfully!",html:`<hr>New doctor name: <b class="text-info">"${e}"</b> \n                  <br><br>\n                  <h6 class="grayColor">Hospital ID: ${t}</h6>`,showConfirmButton:!1,timer:2750}),this.cargarMedico(i)})}abrirModal(){this.modalImageService.abrirModal("doctors",this.medicoSeleccionado._id,this.medicoSeleccionado.img)}}return e.\u0275fac=function(t){return new(t||e)(n.Ib(w.c),n.Ib(Y),n.Ib(T),n.Ib(o.c),n.Ib(o.a),n.Ib(x.a))},e.\u0275cmp=n.Cb({type:e,selectors:[["app-doctor"]],decls:4,vars:3,consts:[[1,"row"],["class","col-lg-4 col-xlg-3 col-md-5",4,"ngIf"],["class","col-lg-8 col-xlg-9 col-md-7",4,"ngIf"],[1,"col-lg-4","col-xlg-3","col-md-5"],[1,"d-inline-flex"],[1,"card-title",2,"opacity","75%"],[1,"decoLine"],[1,"card"],["src","../assets/images/background/socialbg.jpg","alt","Card image",1,"card-img","blur"],[1,"card-img-overlay","card-inverse","social-profile","d-flex","rounded"],[1,"align-self-center",2,"margin","auto"],["id","imgProfile",3,"click"],["id","nameProfile",1,"card-title"],[2,"border-top","1px solid rgba(255, 255, 255, 0.5) !important"],[1,"align-self-center"],[1,"tagHospital","p-2"],[1,"fa","fa-plus-circle","text-danger",2,"padding-right","5px","margin-top","3px"],["id","nameHospital",1,"hospitalName"],[1,"col-lg-8","col-xlg-9","col-md-7"],[1,"decoLine2"],[1,"card-body"],[1,"card-title"],[1,"form","p-t-20",3,"formGroup"],[1,"form-group"],["for","exampleInputuname"],[1,"input-group"],[1,"input-group-addon"],[1,"ti-user"],["type","text","id","exampleInputuname","placeholder","Doctor's name","formControlName","nombre",1,"form-control"],["for","exampleInputEmail1"],[1,"fa","fa-plus-circle"],["formControlName","hospital",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-success","waves-effect","waves-light","m-r-10",3,"disabled","click"],[1,"fa","fa-refresh",2,"padding-right","5px","margin-top","3px","opacity","75%"],["routerLink","/maintenance/doctors",1,"btn","btn-inverse","waves-effect","waves-light"],[3,"value"],[1,"card-subtitle"],[1,"btn","btn-warning","waves-effect","waves-light","m-r-10",3,"disabled","click"],[1,"fa","fa-save",2,"padding-right","5px","margin-top","3px","opacity","75%"]],template:function(e,t){1&e&&(n.Lb(0,"div",0),n.ic(1,Q,19,0,"div",1),n.ic(2,ee,32,3,"div",2),n.ic(3,ie,34,3,"div",2),n.Kb()),2&e&&(n.xb(1),n.Yb("ngIf",t.medicoForm),n.xb(1),n.Yb("ngIf",t.medicoSeleccionado),n.xb(1),n.Yb("ngIf",!t.medicoSeleccionado))},directives:[K.j,w.q,w.h,w.e,w.b,w.g,w.d,w.n,w.k,w.p,K.i,o.d],styles:[".marginShadow[_ngcontent-%COMP%]{box-shadow:0 0 0 0 rgba(0,0,0,.15);position:relative;bottom:0;transition:.2s ease-out}.marginShadow[_ngcontent-%COMP%]:hover{box-shadow:0 0 20px 4px rgba(0,0,0,.15);position:relative;bottom:2px;transition:.2s ease}.tagHospital[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,.18);border-radius:200px}.drName[_ngcontent-%COMP%], .hospitalName[_ngcontent-%COMP%]{font-weight:500;font-size:13px;color:#fff;opacity:1%}.decoLine[_ngcontent-%COMP%]{width:140px}.decoLine[_ngcontent-%COMP%], .decoLine2[_ngcontent-%COMP%]{margin-left:15px;border-bottom:1px solid #455a64}.decoLine2[_ngcontent-%COMP%]{width:455px}"]}),e})(),data:{titulo:"Doctor Maintenance"}}];let ae=(()=>{class e{}return e.\u0275mod=n.Gb({type:e}),e.\u0275inj=n.Fb({factory:function(t){return new(t||e)},imports:[[o.g.forChild(re)],o.g]}),e})()}}]);